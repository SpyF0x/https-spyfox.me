<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Setup your own DNS server with ease - ~# SpyF0x_</title><meta name=Description content="A simple do-it-yourself to become independant regarding the DNS resolution of your favorite websites"><meta property="og:title" content="Setup your own DNS server with ease"><meta property="og:description" content="A simple do-it-yourself to become independant regarding the DNS resolution of your favorite websites"><meta property="og:type" content="article"><meta property="og:url" content="https://spyfox.me/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/"><meta property="og:image" content="https://spyfox.me/logo.png"><meta property="article:published_time" content="2021-10-03T15:00:00+00:00"><meta property="article:modified_time" content="2021-10-03T15:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://spyfox.me/logo.png"><meta name=twitter:title content="Setup your own DNS server with ease"><meta name=twitter:description content="A simple do-it-yourself to become independant regarding the DNS resolution of your favorite websites"><meta name=application-name content="~# SpyF0x_"><meta name=apple-mobile-web-app-title content="~# SpyF0x_"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://spyfox.me/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/><link rel=prev href=https://spyfox.me/posts/system/how-to-choose-dns-servers-1.1.1.1-8.8.8.8-or-9.9.9.9/><link rel=next href=https://spyfox.me/posts/system/linux/tutorials/install-arch-linux-uefi-with-luks-encrypted-root-and-swap-filesystems/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Setup your own DNS server with ease","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/spyfox.me\/posts\/system\/linux\/tutorials\/setup-your-own-dns-server-with-ease\/"},"image":["https:\/\/spyfox.me\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"dns, selfhost","wordcount":755,"url":"https:\/\/spyfox.me\/posts\/system\/linux\/tutorials\/setup-your-own-dns-server-with-ease\/","datePublished":"2021-10-03T15:00:00+00:00","dateModified":"2021-10-03T15:00:00+00:00","publisher":{"@type":"Organization","name":"SpyF0x","logo":"https:\/\/spyfox.me\/images\/avatar.png"},"author":{"@type":"Person","name":" SpyF0x "},"description":"A simple do-it-yourself to become independant regarding the DNS resolution of your favorite websites"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="~# SpyF0x_"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/avatar.png data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" data-sizes=auto alt=/images/avatar.png title=/images/avatar.png>~# SpyF0x_</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/posts/about>About </a><a class=menu-item href=/posts/contact><i class="far fa-envelope fa-fw"></i> </a><a class=menu-item href=/index.xml><i class="fas fa-rss fa-fw"></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="~# SpyF0x_"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/avatar.png data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" data-sizes=auto alt=/images/avatar.png title=/images/avatar.png>~# SpyF0x_</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/posts/about title>About</a><a class=menu-item href=/posts/contact title><i class="far fa-envelope fa-fw"></i></a><a class=menu-item href=/index.xml title><i class="fas fa-rss fa-fw"></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Setup your own DNS server with ease</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=" author" class=author><i class="fas fa-user-circle fa-fw"></i> SpyF0x </a></span>&nbsp;<span class=post-category>included in <a href=/categories/privacy/><i class="far fa-folder fa-fw"></i>Privacy</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-10-03>2021-10-03</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;755 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/privacy/dns.jpg data-srcset="/images/privacy/dns.jpg, /images/privacy/dns.jpg 1.5x, /images/privacy/dns.jpg 2x" data-sizes=auto alt=/images/privacy/dns.jpg title="A simple do-it-yourself to become independant regarding the DNS resolution of your favorite websites"></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#a-bit-of-background>A bit of background</a></li><li><a href=#what-to-do->What to do ?</a></li><li><a href=#windows-os-desktop--server>Windows OS (Desktop & Server)</a></li><li><a href=#unix-like-gnulinux--bsd--osx>UNIX-like (GNU/Linux / BSD / OSX)</a></li><li><a href=#make-a-good-action->Make a good action !</a></li></ul></nav></div></div><div class=content id=content><p>You may not be aware of it, but every time you type a URL in the address bar of your browser, it is transmitted in clear text to the DNS server you are using.</p><h2 id=a-bit-of-background>A bit of background</h2><hr><p>The latter then takes care of resolving the domain name, and tells your machine how to connect to the right server that will distribute the expected data.</p><p>But here&rsquo;s the problem : DNS is a 40 years old protocol, and at that time engineers were not too sensitive to privacy issues. So the overall confidentiality of DNS is nearly inexistant.</p><p>In most cases, DNS requests are made in clear text. Thus, an entity located between you and the DNS server has the complete ability to know which websites you are visiting.</p><p>However, solutions do exist such as DNS-over-TLS and DNS-over-HTTPS, which allow DNS requests to be encapsulated in encrypted protocols. Unfortunately, they are still not widely implemented.</p><h2 id=what-to-do->What to do ?</h2><hr><p>Even if you&rsquo;re a complete beginner and don&rsquo;t understand much about it, just follow this dead simple tutorial.</p><p>The idea is simple&mldr; Since our ISP&rsquo;s DNS servers are lying and the public ones are maintained by fotune 500 companies interested into our juicy browsing data, the most logical solution would be to run our own DNS server inside (or outside) our home network.</p><p>I first came across SimpleDNS Plus, a Windows software that allows you to do this easily, except that it&rsquo;s only for Windows and that you have to pay for it, so shame on it.</p><p>I obviously thought about the powerful Bind 9, but the configuration is quite heavy, so it&rsquo;s not ideal to make a tutorial accessible to anyone.</p><p>While browsing the internet, I saw that there was a tool called Unbound that allows you to do this on Linux as well as Windows and OSX.</p><p>The main benefit is that the basic configuration is more than enough to get a properly configured DNS server.</p><p><em>Note: As Unbound is a server, I would recommend you to install it on the machine wich is turned on the most of the time. In this tutorial, I will cover the installation for Linux, BSD, OSX and Windows OS</em></p><h2 id=windows-os-desktop--server>Windows OS (Desktop & Server)</h2><hr><figure><img src=/images/tutorials/dns/windows.jpg alt="a wonderful Windows 10 meme image"></figure><p>First, go download Unbound DNS <a href=https://unbound.net/download.html target=_blank rel="noopener noreffer">here</a>.</p><p>That&rsquo;s quite easy for Windows, because it&rsquo;s a very traditional installer. No need to think about it, just go to the end of the installation and leave all the default settings.</p><p>When finished, you will see in the list of Windows services (Start -> Run -> Services.msc), an Unbound service that is supposed to be started and running automatically. If not, configure it to start automatically and run it.</p><p>You&rsquo;ll have to configure your Windows to use your local DNS server, whose address will be 127.0.0.1. Go to the network settings and put 127.0.0.1 in the DNS field (and nothing in the second DNS field). And that&rsquo;s it for Windows !</p><p>To check if it&rsquo;s working, launch a terminal and execute &ldquo;nslookup&rdquo;. If you use it to resolve some domain names, you should see something like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>C:\Windows\system32&gt; nslookup spyfox.me
Server: localhost
Address: 127.0.0.1 

Name: spyfox.me
Address: 104.21.17.108
</code></pre></td></tr></table></div></div><p>We can see here that spyfox.me is successfully resolved through our local DNS 127.0.0.1.</p><p>Finally, launch your browser and enter the URL of your choice. The URL may not be resolved right away. This is quite normal as it is the first time it is loaded this way.</p><p>For the next times, as the request will already be cached the resolution will be lightning fast.</p><h2 id=unix-like-gnulinux--bsd--osx>UNIX-like (GNU/Linux / BSD / OSX)</h2><hr><figure><img src=/images/tutorials/dns/unix.png alt="a funny jurassic park UNIX meme"></figure><p>For Linux, OSX and some BSDs, you can of course use your favorite package manager (apt, yay, xbps-install, pkg, macport&mldr;) to install Unbound directly on your system.</p><p>However, I advise you to run it in a docker container instead. This way it will be a bit more secure and convenient :</p><p>First pull the image :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>$ docker pull mvance/unbound
</code></pre></td></tr></table></div></div><p>Then run the container with the following command :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>$ docker run --name my-unbound -d -p 53:53/udp -p 53:53/tcp \
--restart=always mvance/unbound:latest
</code></pre></td></tr></table></div></div><p><em>Note: Don&rsquo;t forget to change your DNS servers settings on your computer ! Think about how your system is handling that (e.g. <code>/etc/resolv.conf</code>)</em></p><h2 id=make-a-good-action->Make a good action !</h2><hr><p>Hit that <code>CTRL + D</code> to bookmark this website 🔖</p><p>Internet is for sharing, so please consider sharing this post if you liked it !</p><p>It will be so much better than any newsletter #privacy #spam #planet 🌍 ❤️</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-10-03</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://spyfox.me/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/ data-title="Setup your own DNS server with ease" data-hashtags=dns,selfhost><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://spyfox.me/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/ data-hashtag=dns><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://spyfox.me/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://spyfox.me/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/><i class="fab fa-reddit fa-fw"></i></a><a href=javascript:void(0); title="Share on VK" data-sharer=vk data-url=https://spyfox.me/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/ data-title="Setup your own DNS server with ease" data-caption="A simple do-it-yourself to become independant regarding the DNS resolution of your favorite websites" data-image=/images/privacy/dns.jpg><i class="fab fa-vk fa-fw"></i></a><a href=javascript:void(0); title="Share on Pocket" data-sharer=pocket data-url=https://spyfox.me/posts/system/linux/tutorials/setup-your-own-dns-server-with-ease/><i class="fab fa-get-pocket fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/dns/>dns</a>,&nbsp;<a href=/tags/selfhost/>selfhost</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/system/how-to-choose-dns-servers-1.1.1.1-8.8.8.8-or-9.9.9.9/ class=prev rel=prev title="DNS servers : 1.1.1.1, 8.8.8.8 or 9.9.9.9 ?"><i class="fas fa-angle-left fa-fw"></i>DNS servers : 1.1.1.1, 8.8.8.8 or 9.9.9.9 ?</a>
<a href=/posts/system/linux/tutorials/install-arch-linux-uefi-with-luks-encrypted-root-and-swap-filesystems/ class=next rel=next title="Install Arch Linux UEFI with LUKS encrypted root and swap filesystems">Install Arch Linux UEFI with LUKS encrypted root and swap filesystems<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank> SpyF0x </a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>