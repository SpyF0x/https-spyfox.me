<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Web pentesting - Fundamentals - ~# SpyF0x_</title><meta name=Description content="The auditor's job can be separated into two main activities: identifying vulnerabilities (Vulnerability Assessment) and using them to perform a full penetration test (Pentest).Companies may request the services of an auditor only to run a Nessus (or OpenVAS) scan on an IP address range, without authorizing an actual intrusion."><meta property="og:title" content="Web pentesting - Fundamentals"><meta property="og:description" content="The auditor's job can be separated into two main activities: identifying vulnerabilities (Vulnerability Assessment) and using them to perform a full penetration test (Pentest).Companies may request the services of an auditor only to run a Nessus (or OpenVAS) scan on an IP address range, without authorizing an actual intrusion."><meta property="og:type" content="article"><meta property="og:url" content="https://spyfox.me/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/"><meta property="og:image" content="https://spyfox.me/logo.png"><meta property="article:published_time" content="2021-10-12T14:00:00+00:00"><meta property="article:modified_time" content="2021-10-12T14:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://spyfox.me/logo.png"><meta name=twitter:title content="Web pentesting - Fundamentals"><meta name=twitter:description content="The auditor's job can be separated into two main activities: identifying vulnerabilities (Vulnerability Assessment) and using them to perform a full penetration test (Pentest).Companies may request the services of an auditor only to run a Nessus (or OpenVAS) scan on an IP address range, without authorizing an actual intrusion."><meta name=application-name content="~# SpyF0x_"><meta name=apple-mobile-web-app-title content="~# SpyF0x_"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://spyfox.me/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/><link rel=prev href=https://spyfox.me/posts/cybersecurity/offensive/network/the-black-magic-behind-denial-of-service-attacks/><link rel=next href=https://spyfox.me/posts/cybersecurity/protection/system/forget-lastpass-and-learn-to-manage-your-passwords-correctly-with-keepass/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Web pentesting - Fundamentals","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/spyfox.me\/posts\/cybersecurity\/offensive\/web\/web-pentesting-fundamentals\/"},"image":["https:\/\/spyfox.me\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"pentesting, penetration testing, cyberattack, web","wordcount":1250,"url":"https:\/\/spyfox.me\/posts\/cybersecurity\/offensive\/web\/web-pentesting-fundamentals\/","datePublished":"2021-10-12T14:00:00+00:00","dateModified":"2021-10-12T14:00:00+00:00","publisher":{"@type":"Organization","name":"SpyF0x","logo":"https:\/\/spyfox.me\/images\/avatar.png"},"author":{"@type":"Person","name":" SpyF0x "},"description":"The auditor's job can be separated into two main activities: identifying vulnerabilities (Vulnerability Assessment) and using them to perform a full penetration test (Pentest).Companies may request the services of an auditor only to run a Nessus (or OpenVAS) scan on an IP address range, without authorizing an actual intrusion."}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="~# SpyF0x_"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/avatar.png data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" data-sizes=auto alt=/images/avatar.png title=/images/avatar.png>~# SpyF0x_</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/posts/about>About </a><a class=menu-item href=/index.xml><i class="fas fa-rss fa-fw"></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="~# SpyF0x_"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/avatar.png data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" data-sizes=auto alt=/images/avatar.png title=/images/avatar.png>~# SpyF0x_</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/posts/about title>About</a><a class=menu-item href=/index.xml title><i class="fas fa-rss fa-fw"></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Web pentesting - Fundamentals</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=" author" class=author><i class="fas fa-user-circle fa-fw"></i> SpyF0x </a></span>&nbsp;<span class=post-category>included in <a href=/categories/offensive-security/><i class="far fa-folder fa-fw"></i>Offensive Security</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-10-12>2021-10-12</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1250 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;6 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/security/web-pentest/web-pentest.jpg data-srcset="/images/security/web-pentest/web-pentest.jpg, /images/security/web-pentest/web-pentest.jpg 1.5x, /images/security/web-pentest/web-pentest.jpg 2x" data-sizes=auto alt=/images/security/web-pentest/web-pentest.jpg title="The auditor's job can be separated into two main activities: identifying vulnerabilities (Vulnerability Assessment) and using them to perform a full penetration test (Pentest).Companies may request the services of an auditor only to run a Nessus (or OpenVAS) scan on an IP address range, without authorizing an actual intrusion."></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#a-little-bit-of-context>A little bit of context</a></li><li><a href=#defining-the-point-of-view>Defining the point of view</a><ul><li><a href=#black-box>Black Box</a></li><li><a href=#white-box>White box</a></li><li><a href=#grey-box>Grey box</a></li></ul></li><li><a href=#performing-reconnaissance>Performing reconnaissance</a><ul><li><a href=#passive-reconnaissance>Passive reconnaissance</a></li><li><a href=#active-reconnaissance>Active reconnaissance</a></li><li><a href=#detecting-vulnerabilities>Detecting vulnerabilities</a></li></ul></li><li><a href=#planning-the-actions>Planning the actions</a></li><li><a href=#attacking-and-cracking-up-the-perimeter>Attacking and cracking up the perimeter</a></li><li><a href=#getting-more-privileges>Getting more privileges</a></li><li><a href=#maintaining-access>Maintaining access</a></li><li><a href=#cleaning-up>Cleaning up</a></li><li><a href=#make-a-detailed-report>Make a detailed report</a></li><li><a href=#make-a-good-action->Make a good action !</a></li></ul></nav></div></div><div class=content id=content><p>The objective of a web pentest is to evaluate the security of web application by simulating a cyberattack.</p><h2 id=a-little-bit-of-context>A little bit of context</h2><hr><p>The auditor&rsquo;s job can be separated into two main activities: identifying vulnerabilities (Vulnerability Assessment) and using them to perform a full penetration test (Pentest).</p><p>Companies may request the services of an auditor only to run a Nessus (or OpenVAS) scan on an IP address range, without authorizing an actual intrusion.</p><p>Here is an important point in the penetration testing process: what is allowed ?</p><p>When defining the audit perimeter, the company have to define the limits imposed on the tester.</p><p>Let&rsquo;s now take a look at the different methodologies on how to conduct an intrusion test.</p><h2 id=defining-the-point-of-view>Defining the point of view</h2><h3 id=black-box>Black Box</h3><p>Probably the most exciting for an auditor because he is in the exact same position as a &ldquo;real&rdquo; hacker.</p><p>The test is performed from an external network, without knowing the architecture.</p><p>The tester will therefore have to go through a reconnaissance stage to map all the possible equipments as well as any other useful information.</p><h3 id=white-box>White box</h3><p>The auditor is in the position of a malicious employee: he knows the composition of the network and the systems installed.</p><p>The reconnaissance step is simplified but the auditor will still have to list :</p><ul><li>Installed software and their versions</li><li>The different sub-networks</li><li>The available logins</li><li>etc.</li></ul><h3 id=grey-box>Grey box</h3><p>This is a combination of the two previous ones. The auditor puts himself in the shoes of an ex-employee: he knows the composition of the network and the systems installed, but the test must be performed from an external network.</p><p>Once again, the reconnaissance stage is simplified. However, the intrusion phase remains as delicate as in the case of a black box.</p><h2 id=performing-reconnaissance>Performing reconnaissance</h2><p>All the major cyberattacks begins with a reconnaissance step. It should take about 75% of the whole operation time.</p><p>The more you rush this step, the more likely you are to be detected or to see your attack fail.</p><p>Also, as part of a security audit, this step provides a comprehensive list of all the vulnerabilities in a network.</p><h3 id=passive-reconnaissance>Passive reconnaissance</h3><p>Certainly the least risky step in a cyberattack, and unless you are engaged in some terrorist activities, there is no chance you would be blamed for this type of reconnaissance.</p><p>It&rsquo;s all about getting any publicly available information. All sources are good to go:</p><ul><li>Use a tool like nmap to enumerate running services :<figure><img src=/images/security/web-pentest/web-pentest1.png alt="web pentest"></figure></li><li>Clone the official website (using HTTrack for example) to analyze it offline.</li><li>Use Google (and Google dorks) to list the sub-domains associated with a domain name.</li><li>List all virtual hosts associated with the IP address of the web server.</li><li>Directory listings :<figure><img src=/images/security/web-pentest/web-pentest2.png alt="web pentest"></figure></li><li>etc.</li></ul><h3 id=active-reconnaissance>Active reconnaissance</h3><p>Several open source tools are perfect to automate some of this step :</p><ul><li>The classical dirb to bruteforce directories and its derivatives (gobuster, wfuzz, etc.) :<figure><img src=/images/security/web-pentest/web-pentest7.png alt="web pentest"></figure></li><li>Subscraper to enumerate the subdomains using dns :<figure><img src=/images/security/web-pentest/web-pentest3.png alt="web pentest"></figure></li><li>WPScan if WordPress based website :<figure><img src=/images/security/web-pentest/web-pentest8.png alt="web pentest"></figure></li><li>SQLmap to play around the database:<figure><img src=/images/security/web-pentest/web-pentest9.png alt="web pentest"></figure></li></ul><p>Note that obtaining valid accounts naturally allows an attacker to extend his attack surface by giving him access to more functionalities and hence to more vulnerabilities.</p><h3 id=detecting-vulnerabilities>Detecting vulnerabilities</h3><p>If you have listed the technologies used on the website, as well as their versions, you can search the Internet for known vulnerabilities in these configurations.</p><p>If you are suicidal (or if the company does not have an intrusion detection system), you can use tools like Nessus or w3af (wich is a Nessus-like scanner for the web) to search for vulnerabilities on the website.</p><figure><img src=/images/security/web-pentest/web-pentest3.jpg alt="web pentest"></figure><h2 id=planning-the-actions>Planning the actions</h2><p>In order to take the least possible risk during the operation, you should perform several recaps before this step: the first one right after the passive reconnaissance, to minimize the risks during the active reconnaissance, and the second one after the active reconnaissance, to target the vulnerability detection.</p><p>Once you have a good amount of the flaws being listed, you must plan the attack:</p><ul><li>Define precisely the attack plan.</li><li>Define which web servers will be targeted and in which order.</li><li>Define which tools and methods will be used and how.</li><li>Develop specific tools for the attack.</li><li>Modify, if necessary, existing tools to better fit your needs.</li><li>List the targets of social engineering attacks and define a precise scenario (have it validated by the company that requested the audit).</li><li>Plan the steps following the intrusion (privileges escalation, maintaining access and cleaning up).</li></ul><figure><img src=/images/security/web-pentest/web-pentest5.jpg alt="web pentest"></figure><p>In a black box audit, you may have to work in an iterative way, moving through the audited infrastructure bit by bit.</p><p>Indeed, you won&rsquo;t have a global vision of the infrastructure until you set foot on it.</p><p>You will therefore have to start all over again with each step.</p><h2 id=attacking-and-cracking-up-the-perimeter>Attacking and cracking up the perimeter</h2><p>Finally, here is the step that is most talked about: the exploitation of the flaws in order to obtain access (in other words, pop a shell).</p><p>The goal here, is to apply our plan and adapt it to any unexpected situation.</p><h2 id=getting-more-privileges>Getting more privileges</h2><p>With all the information obtained in the previous recognition steps, you should have a rough idea of how to get the highest possible permissions, but don&rsquo;t worry ! Once you have breached into the system, it is quite normal to feel like you are starting from scratch.</p><p>You have to enumerate (again) the different services and software that may be running to find vulnerabilities and exploit them in order to get those precious administrator (SYSTEM or root) permissions.</p><p>All means are good to achieve that :</p><ul><li>Operating system vulnerabilities</li><li>Buffer overflows</li><li>Vulnerable softwares</li><li>Password attacks</li><li>Social engineering</li><li>etc.</li></ul><h2 id=maintaining-access>Maintaining access</h2><p>As part of the audit, you may have to place a backdoor. Don&rsquo;t forget to use robust software to secure access !</p><p>You don&rsquo;t want a truly malicious hacker to take advantage of your audit to gain access to the servers !</p><figure><img src=/images/security/web-pentest/web-pentest4.png alt="web pentest"></figure><h2 id=cleaning-up>Cleaning up</h2><p>Throughout the audit, you must save every data you altered, and keep a trace of every modification applied to the system to restore to its original state.</p><p>It is unacceptable for a security audit to create security holes !</p><p>You should also erase the intrusion traces by clearing log files and deleting any data you created to gain access.</p><h2 id=make-a-detailed-report>Make a detailed report</h2><p>The audited company is interested in the precise process used by the intruder to gain entry, as well as the data recovered during the reconnaissance.</p><p>Everything should be recorded, from the smallest piece of information gathered to the tools and plan used for the intrusion.</p><p>The report should obviously contain recommendations for securing the web application.</p><figure><img src=/images/security/web-pentest/web-pentest6.jpg alt="web pentest"></figure><p>To sum up, the job of an IT security auditor is more complex than the job of a black hat in the way that he must record everything he does, make a backup of the altered data. He must also keep in mind the objective and write a comprehensive report about how to secure the web app / servers.</p><p>Contrary to black hats, not all means are good enough for a pentester to achieve his goals.</p><p>Social engineering, if not prohibited, will be for instance highly supervised. The perimeter would be precisely defined as well as the exploitation methods (XSS / SQL injections, CSRF, etc.).</p><h2 id=make-a-good-action->Make a good action !</h2><hr><p>Hit that <code>CTRL + D</code> to bookmark this website 🔖</p><p>Internet is for sharing, so please consider sharing this post if you liked it !</p><p>It will be so much better than any newsletter #privacy #spam #planet 🌍 ❤️</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-10-12</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://spyfox.me/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/ data-title="Web pentesting - Fundamentals" data-hashtags="pentesting,penetration testing,cyberattack,web"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://spyfox.me/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/ data-hashtag=pentesting><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://spyfox.me/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://spyfox.me/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/><i class="fab fa-reddit fa-fw"></i></a><a href=javascript:void(0); title="Share on VK" data-sharer=vk data-url=https://spyfox.me/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/ data-title="Web pentesting - Fundamentals" data-caption="The auditor's job can be separated into two main activities: identifying vulnerabilities (Vulnerability Assessment) and using them to perform a full penetration test (Pentest).Companies may request the services of an auditor only to run a Nessus (or OpenVAS) scan on an IP address range, without authorizing an actual intrusion." data-image=/images/security/web-pentest/web-pentest.jpg><i class="fab fa-vk fa-fw"></i></a><a href=javascript:void(0); title="Share on Pocket" data-sharer=pocket data-url=https://spyfox.me/posts/cybersecurity/offensive/web/web-pentesting-fundamentals/><i class="fab fa-get-pocket fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/pentesting/>pentesting</a>,&nbsp;<a href=/tags/penetration-testing/>penetration testing</a>,&nbsp;<a href=/tags/cyberattack/>cyberattack</a>,&nbsp;<a href=/tags/web/>web</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/cybersecurity/offensive/network/the-black-magic-behind-denial-of-service-attacks/ class=prev rel=prev title="The black magic behind denial of service attacks"><i class="fas fa-angle-left fa-fw"></i>The black magic behind denial of service attacks</a>
<a href=/posts/cybersecurity/protection/system/forget-lastpass-and-learn-to-manage-your-passwords-correctly-with-keepass/ class=next rel=next title="KeePass - Forget Lastpass and learn to manage your passwords correctly ">KeePass - Forget Lastpass and learn to manage your passwords correctly <i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank> SpyF0x </a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a href=/posts/disclaimer>Disclaimer</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>