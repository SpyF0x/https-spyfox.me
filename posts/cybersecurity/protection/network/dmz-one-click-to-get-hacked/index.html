<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>DMZ : One click to get hacked - ~# SpyF0x_</title><meta name=Description content="By design, your gateway has a set of firewall rules to prevent anyone from reaching directly your devices from the Internet, but this same gateway, has also an option called DMZ to cancel this protection"><meta property="og:title" content="DMZ : One click to get hacked"><meta property="og:description" content="By design, your gateway has a set of firewall rules to prevent anyone from reaching directly your devices from the Internet, but this same gateway, has also an option called DMZ to cancel this protection"><meta property="og:type" content="article"><meta property="og:url" content="https://spyfox.me/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/"><meta property="og:image" content="https://spyfox.me/logo.png"><meta property="article:published_time" content="2022-02-16T18:00:00+00:00"><meta property="article:modified_time" content="2022-02-16T18:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://spyfox.me/logo.png"><meta name=twitter:title content="DMZ : One click to get hacked"><meta name=twitter:description content="By design, your gateway has a set of firewall rules to prevent anyone from reaching directly your devices from the Internet, but this same gateway, has also an option called DMZ to cancel this protection"><meta name=application-name content="~# SpyF0x_"><meta name=apple-mobile-web-app-title content="~# SpyF0x_"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://spyfox.me/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/><link rel=prev href=https://spyfox.me/posts/cybersecurity/protection/network/endlessh-troll-any-hacker-with-this-cool-ssh-blackhole-/><link rel=next href=https://spyfox.me/posts/system/browser/floc-googles-new-weapon-to-bypass-cookies/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"DMZ : One click to get hacked","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/spyfox.me\/posts\/cybersecurity\/protection\/network\/dmz-one-click-to-get-hacked\/"},"image":["https:\/\/spyfox.me\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"protect, hacker","wordcount":826,"url":"https:\/\/spyfox.me\/posts\/cybersecurity\/protection\/network\/dmz-one-click-to-get-hacked\/","datePublished":"2022-02-16T18:00:00+00:00","dateModified":"2022-02-16T18:00:00+00:00","publisher":{"@type":"Organization","name":"SpyF0x","logo":"https:\/\/spyfox.me\/images\/avatar.png"},"author":{"@type":"Person","name":" SpyF0x "},"description":"By design, your gateway has a set of firewall rules to prevent anyone from reaching directly your devices from the Internet, but this same gateway, has also an option called DMZ to cancel this protection"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="~# SpyF0x_"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/avatar.png data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" data-sizes=auto alt=/images/avatar.png title=/images/avatar.png>~# SpyF0x_</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/posts/about>About </a><a class=menu-item href=/index.xml><i class="fas fa-rss fa-fw"></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="~# SpyF0x_"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/avatar.png data-srcset="/images/avatar.png, /images/avatar.png 1.5x, /images/avatar.png 2x" data-sizes=auto alt=/images/avatar.png title=/images/avatar.png>~# SpyF0x_</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/posts/about title>About</a><a class=menu-item href=/index.xml title><i class="fas fa-rss fa-fw"></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">DMZ : One click to get hacked</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=" author" class=author><i class="fas fa-user-circle fa-fw"></i> SpyF0x </a></span>&nbsp;<span class=post-category>included in <a href=/categories/defensive-security/><i class="far fa-folder fa-fw"></i>Defensive Security</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-02-16>2022-02-16</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;826 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/images/security/dmz/dmz-background.png data-srcset="/images/security/dmz/dmz-background.png, /images/security/dmz/dmz-background.png 1.5x, /images/security/dmz/dmz-background.png 2x" data-sizes=auto alt=/images/security/dmz/dmz-background.png title="By design, your gateway has a set of firewall rules to prevent anyone from reaching directly your devices from the Internet, but this same gateway, has also an option called DMZ to cancel this protection"></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#first-things-first>First things first</a></li><li><a href=#story-time>Story time</a></li><li><a href=#conclusion-of-the-story>Conclusion of the story</a></li><li><a href=#solution-in-a-nutshell>Solution in a nutshell</a></li><li><a href=#make-a-good-action->Make a good action !</a></li></ul></nav></div></div><div class=content id=content><p>By design, your gateway has a set of firewall rules to prevent anyone from reaching directly your devices from the Internet</p><p>But this same gateway, has also an option called DMZ to cancel this protection.</p><h2 id=first-things-first>First things first</h2><hr><p>Originally, it is a set of rules to ensure that a server will be connected to the Internet, but will not be able to access the local network :</p><figure><img src=/images/security/dmz/DMZ-selfhost-good.png alt="denial of service attack"></figure><p>Your server becomes the front door of your network.</p><p>If the server is vulnerable or if the firewall rules are insufficient to properly isolate the server(s) from the rest of the LAN (which is the case of 99.9% of home routers), any hacker could get into your home network simply by creating a bridge between your server and your home network !</p><figure><img src=https://media.giphy.com/media/25KEhzwCBBFPb79puo/giphy.gif alt="denial of service attack"></figure><h2 id=story-time>Story time</h2><hr><p>One day, a friend of mine which was setting up a Minecraft game server, had just discovered the &ldquo;DMZ&rdquo; option on his router. He didn&rsquo;t even bother to forward the right port (25565/TCP) and he configured his gateway to set his laptop into DMZ.</p><p>He was pretty proud of it, because it was really convenient : just set up an app on a computer, et voilà ! Don&rsquo;t even bother with &ldquo;complicated&rdquo; port forwarding !</p><p>Even if I strongly recommended him to stop using DMZ to forward only 1 port, he wouldn&rsquo;t listen.</p><p>So we played him a little trick with my best friend :</p><blockquote><ol><li>He was running GNU/Kali Linux on his laptop. We knew his username (it was his IG nickname) as well as his password, as he was reusing the same damn password everywhere.</li></ol></blockquote><blockquote><ol start=2><li>A quick port scan with Nmap showed a whole bunch of open ports, including SSH.</li></ol></blockquote><blockquote><ol start=3><li>We tried to connect to his laptop through SSH&mldr;and it successfully worked !</li></ol></blockquote><p>The biggest question was, &ldquo;What do to now ?&rdquo;</p><p>Tbh, I can&rsquo;t remember exactly what we did next. I&rsquo;m pretty sure that we had overloaded his desktop folder with blank files and changed his wallpaper to a picture of his desktop actually being full of blank files so that he can&rsquo;t remove those files because it&rsquo;s a part of his wallpaper.</p><p>Trust me, his live reaction when this happened was priceless !</p><figure><img src=https://media.giphy.com/media/8Iv5lqKwKsZ2g/giphy.gif alt="denial of service attack"></figure><h2 id=conclusion-of-the-story>Conclusion of the story</h2><hr><p>Keep in mind that all this was just a friendly joke, and our friend took it very well. A real cyberattack would have had catastrophic impacts.</p><p>We can imagine that instead of scaring our friend, we could have set up a second backdoor, even more discreet to be more persistent and from there, reroute all our traffic to our friend&rsquo;s LAN. After all, all his router is doing is simply exposing all his server&rsquo;s ports, there is no firewall rule that would prevent us from doing so.</p><p>At the time when we made the joke, Eternalblue / DoublePulsar had just been released, it was a critical flaw impacting Windows boxes that allows an attacker to execute arbitrary code remotely. We would have used this flaw to have a firm foothold on all the Windows boxes of his network and so on until all his entire network would be compromised !</p><p>Even for a simple individual, the impact can be huge : imagine one day turning on your computer and see a cryptolocker.</p><p>Turning on your laptop to look for the solution online and see that your laptop as well as all the other computers in your house are cryptolocked !</p><figure><img src=https://media.giphy.com/media/hyyV7pnbE0FqLNBAzs/giphy.gif alt="denial of service attack"></figure><p>What&rsquo;s even scarier is that thousands of companies around the world have woken up in this state. The root cause of the initial intrusion is always varied, but in the end, the result is always the same.</p><p><strong>This is why in my opinion, IT security of companies AND individuals must NOT be traded for convenience !</strong></p><h2 id=solution-in-a-nutshell>Solution in a nutshell</h2><hr><p>To my eyes, there are two cases :</p><ul><li>The first, you are at home :</li></ul><blockquote><p>Just port forward the needed port(s) with the right protocol (TCP/UDP) and clear that rule when you&rsquo;re done.</p></blockquote><blockquote><p>Consider putting your server in a subnetwork or an isolated network from your home network to prevent a bridge in case of a successful attack.</p></blockquote><blockquote><p>⚠️ Don&rsquo;t EVER dare enable DMZ ⚠️</p></blockquote><blockquote><p>Unless, of course, if you want to get hacked after approximately 38 seconds by an automated bot attack !</p></blockquote><blockquote><p>Also, keep your server up to date.</p></blockquote><ul><li>The second you are an IT admin :</li></ul><blockquote><p>Properly get your firewall rules checked by different persons. There&rsquo;s no shame to verify something by someone else !</p></blockquote><blockquote><p>Run some pentests in black and gray boxes.</p></blockquote><blockquote><p>Dedicate some resources to maintain the servers up to date.</p></blockquote><blockquote><p>✅ It is critical to eliminate vulnerabilities as soon as a patch is available !</p></blockquote><h2 id=make-a-good-action->Make a good action !</h2><hr><p>Hit that <code>CTRL + D</code> to bookmark this website 🔖</p><p>Internet is for sharing, so please consider sharing this post if you liked it !</p><p>It will be so much better than any newsletter #privacy #spam #planet 🌍 ❤️</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-02-16</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://spyfox.me/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/ data-title="DMZ : One click to get hacked" data-hashtags=protect,hacker><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://spyfox.me/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/ data-hashtag=protect><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://spyfox.me/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://spyfox.me/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/><i class="fab fa-reddit fa-fw"></i></a><a href=javascript:void(0); title="Share on VK" data-sharer=vk data-url=https://spyfox.me/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/ data-title="DMZ : One click to get hacked" data-caption="By design, your gateway has a set of firewall rules to prevent anyone from reaching directly your devices from the Internet, but this same gateway, has also an option called DMZ to cancel this protection" data-image=/images/security/dmz/dmz-background.png><i class="fab fa-vk fa-fw"></i></a><a href=javascript:void(0); title="Share on Pocket" data-sharer=pocket data-url=https://spyfox.me/posts/cybersecurity/protection/network/dmz-one-click-to-get-hacked/><i class="fab fa-get-pocket fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/protect/>protect</a>,&nbsp;<a href=/tags/hacker/>hacker</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/cybersecurity/protection/network/endlessh-troll-any-hacker-with-this-cool-ssh-blackhole-/ class=prev rel=prev title="Endlessh : Troll any hacker with this cool SSH blackhole !"><i class="fas fa-angle-left fa-fw"></i>Endlessh : Troll any hacker with this cool SSH blackhole !</a>
<a href=/posts/system/browser/floc-googles-new-weapon-to-bypass-cookies/ class=next rel=next title="FLoC : Google's new weapon to bypass cookies">FLoC : Google's new weapon to bypass cookies<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank> SpyF0x </a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a href=/posts/disclaimer>Disclaimer</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>